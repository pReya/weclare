(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t,n){e.exports=n(587)},177:function(e,t,n){},222:function(e,t,n){},585:function(e,t,n){},587:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"REGISTER_ANSWER",function(){return Se}),n.d(a,"INIT_ANSWERS",function(){return Oe}),n.d(a,"registerAnswer",function(){return xe}),n.d(a,"initAnswers",function(){return Ae});var r={};n.r(r),n.d(r,"SELECT_QUESTION",function(){return Dt}),n.d(r,"ADD_QUESTION",function(){return Pt}),n.d(r,"EDIT_QUESTION_TEXT",function(){return Mt}),n.d(r,"EDIT_QUESTION_MODE",function(){return Ut}),n.d(r,"EDIT_QUESTION_TYPE",function(){return Jt}),n.d(r,"DELETE_QUESTION",function(){return Ft}),n.d(r,"LOAD_QUESTIONS",function(){return Wt}),n.d(r,"SORT_QUESTION",function(){return Lt}),n.d(r,"selectQuestion",function(){return Bt}),n.d(r,"addQuestion",function(){return Ht}),n.d(r,"editQuestionText",function(){return zt}),n.d(r,"editQuestionMode",function(){return Gt}),n.d(r,"editQuestionType",function(){return Vt}),n.d(r,"deleteQuestion",function(){return Xt}),n.d(r,"loadQuestions",function(){return Yt}),n.d(r,"sortQuestion",function(){return Kt}),n.d(r,"SET_CORRECT_SINGLE_ANSWER",function(){return $t}),n.d(r,"SET_CORRECT_MULTI_ANSWER",function(){return Zt}),n.d(r,"ADD_ANSWER",function(){return en}),n.d(r,"EDIT_ANSWER_TEXT",function(){return tn}),n.d(r,"DELETE_ANSWER",function(){return nn}),n.d(r,"SORT_ANSWER",function(){return an}),n.d(r,"setCorrectSingleAnswer",function(){return rn}),n.d(r,"setCorrectMultiAnswer",function(){return on}),n.d(r,"addAnswer",function(){return cn}),n.d(r,"editAnswerText",function(){return sn}),n.d(r,"deleteAnswer",function(){return ln}),n.d(r,"sortAnswer",function(){return un});var o=n(1),c=n.n(o),s=n(21),l=n.n(s),i=(n(177),n(623)),u=n(626),d=n(621),m=n(34),p=n(599),E=n(10),f=n(16),b=n(59),g=n(60),h=n(140),w=n.n(h),y=n(588),v=n(589);function S(){return c.a.createElement("div",null,c.a.createElement("hr",null),c.a.createElement("footer",{className:"container"},c.a.createElement(y.a,null,c.a.createElement(v.a,null,c.a.createElement("p",{className:"font-weight-light text-muted"},"\xa9 2018 Moritz St\xfcckler \u2013 HAW Hamburg")),c.a.createElement(v.a,{className:"text-right"},c.a.createElement("a",{href:"https://github.com/pReya/weclare/"},c.a.createElement(w.a,null))))))}var O=n(604),x=n(598),A=n(600),C=n(601),I=n(602),j=n(603),N=n(11),T=n(9),_=n(14),R=n(13),Q=n(15),k=n(19),q=n(590),D=n(591),P=n(592),M=n(593),U=n(594),J=n(624),F=n(595),W=n(596),L=n(597),B=n(142),H=n.n(B),z=n(143),G=n.n(z),V=n(144),X=n.n(V),Y=n(145),K=n.n(Y),$=function(e){var t=document.createElement("input");t.style="position: absolute; left: -1000px; top: -1000px",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},Z=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).toggleDropdown=n.toggleDropdown.bind(Object(k.a)(Object(k.a)(n))),n.toggleModal=n.toggleModal.bind(Object(k.a)(Object(k.a)(n))),n.state={dropdownOpen:!1,showModal:!1},n}return Object(Q.a)(t,e),Object(T.a)(t,[{key:"toggleDropdown",value:function(){this.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})}},{key:"toggleModal",value:function(){this.setState(function(e){return{showModal:!e.showModal}})}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.isServer,a=e.numberOfClients,r=e.ownServerId,o=this.state,s=o.dropdownOpen,l=o.showModal,i={client:["\u2328\ufe0f Ready","Trying to connect","\u2705 Connected","\u274c Error"],server:["\u2328\ufe0f Ready","\u2753 Waiting for connections","\u2705 ".concat(a," Clients Connected"),"\u274c Error"]}[n?"server":"client"][t];return c.a.createElement(q.a,{className:"justify-content-center col-md-8"},n&&[1,2,3].includes(t)?c.a.createElement(D.a,{addonType:"prepend",isOpen:s,toggle:this.toggleDropdown},c.a.createElement(P.a,{caret:!0,className:"font-weight-bold"},"".concat(r," ")),c.a.createElement(M.a,null,c.a.createElement(U.a,{header:!0},"Share with client"),c.a.createElement(U.a,{divider:!0}),c.a.createElement(U.a,{style:{cursor:"pointer"},onClick:this.toggleModal},c.a.createElement(X.a,{className:"text-muted"}),"  ","Show QR Code"),c.a.createElement(J.a,{isOpen:l,toggle:this.toggleModal,size:"lg"},c.a.createElement(F.a,{toggle:this.toggleModal},"Share QR Code"),c.a.createElement(W.a,null,c.a.createElement(K.a,{value:"".concat(window.location.origin,"/client/connect/").concat(r),style:{width:"100%",height:"100%"},renderAs:"svg"}))),document.queryCommandSupported("copy")&&c.a.createElement(U.a,{onClick:function(){$(r)},style:{cursor:"pointer"}},c.a.createElement(G.a,{className:"text-muted"}),"  ","Copy ID"),c.a.createElement(U.a,{style:{cursor:"pointer"},onClick:function(){$("".concat(window.location.origin,"/client/connect/").concat(r))}},c.a.createElement(H.a,{className:"text-muted"}),"  ","Copy Link"))):null,c.a.createElement(L.a,{className:"text-center col-5",value:i,disabled:!0}))}}]),t}(c.a.Component);Z.defaultProps={isServer:!1,numberOfClients:0,ownServerId:""};var ee=function(e){var t=e.status,n=e.numberOfClients,a=e.isServer,r=e.isClient,o=e.ownServerId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(x.a,{expand:"sm",className:"mb-4 border-bottom shadow-sm d-flex flex-row justify-content-between bg-white"},c.a.createElement(p.a,null,c.a.createElement(A.a,{href:"/"},"Weclare",a?" Server":" Client"),(a||r)&&c.a.createElement(Z,{isServer:a,status:t,numberOfClients:n,ownServerId:o}),c.a.createElement(C.a,{className:"flex-row"},c.a.createElement(I.a,null,c.a.createElement(j.a,{tag:O.a,to:"/"},"Help")),c.a.createElement(I.a,null,c.a.createElement(j.a,{tag:O.a,to:"/about"},"About"))))))};ee.defaultProps={isServer:!1,isClient:!1,numberOfClients:0,ownServerId:"",status:0};var te=ee,ne=Object(E.b)(function(e){return{status:e.connection.status,numberOfClients:e.connection.peer?Object.keys(e.connection.peer.connections).length:null,ownServerId:e.server.ownServerId}})(function(e){return c.a.createElement(te,Object.assign({isServer:!0},e))}),ae=n(625),re=n(63),oe=n.n(re),ce=function(){function e(){Object(N.a)(this,e)}return Object(T.a)(e,null,[{key:"info",value:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emitMessage("info",t,a)}},{key:"error",value:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emitMessage("error",t,a)}},{key:"warn",value:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emitMessage("warn",t,a)}},{key:"debug",value:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emitMessage("debug",t,a)}},{key:"emitMessage",value:function(e,t,n){n.length>0?console[e](t,n):console[e](t)}}]),e}(),se=n(611),le=n(612),ie=n(146),ue=(n(218),n(605)),de=n(606),me=n(607),pe=n(608),Ee=n(609),fe=n(610);function be(e){var t=e.title,n=e.text,a=e.children,r=e.badge,o=e.footer;return c.a.createElement(v.a,{md:"8"},c.a.createElement(ue.a,{className:"shadow"},c.a.createElement(de.a,null,r?c.a.createElement("h6",{className:"my-0 d-flex justify-content-between"},t,c.a.createElement(me.a,{color:"dark",pill:!0},r)):c.a.createElement("h6",{className:"my-0"},t)),c.a.createElement(pe.a,null,n&&c.a.createElement(Ee.a,null,n),a),o&&c.a.createElement(fe.a,null,o)))}be.defaultProps={text:null,children:null,badge:null,footer:null};var ge=be,he=function(e){console.log(e);var t=e.match,n=e.onChangeServerId,a=e.onClickConnect,r=e.serverId,o=e.title,s=e.text,l=e.buttonText,i=e.history,u=e.location;return t&&t.params&&t.params.serverId&&n(t.params.serverId),c.a.createElement(ge,{title:o,text:s},c.a.createElement(se.a,null,c.a.createElement(le.a,{row:!0,className:"form-row"},c.a.createElement(v.a,{md:6},c.a.createElement(L.a,{id:"serverId",type:"text",value:r,onChange:function(e){return n(e.target.value)}})),c.a.createElement(v.a,{md:3},c.a.createElement(ie.a,{type:"button",id:"connect",className:"btn-block",onClick:function(){a(r),i&&u&&i.push(u)}},l)))))};he.defaultProps={buttonText:"Connect"};var we=he,ye="ADD_CONNECTION",ve="SET_SERVER_ID";var Se="REGISTER_ANSWER",Oe="INIT_ANSWERS";function xe(e,t,n){return function(a,r){r().server.acceptingAnswers?a({type:Se,payload:{questionIdx:e,answerIdx:t,userId:n}}):console.log("TEST")}}function Ae(){return function(e,t){var n=t().questionEditor.map(function(e){return e.answers.map(function(){return[]})});e({type:Oe,payload:{array:n}})}}var Ce="SET_PEER",Ie="SET_CONNECTION_STATUS";function je(e){return{type:Ie,payload:{newStatus:e}}}function Ne(e){return{type:Ce,payload:{peer:e}}}var Te=function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_PEERJS_SERVER:"peerjs-server-mvmastudcl.now.sh",REACT_APP_PEERJS_SECURE:"true",REACT_APP_PEERJS_DEBUG:"2",REACT_APP_DROPBOX_APP_KEY:"d18bw92f2af5ssh"}),a=n.REACT_APP_PEERJS_SERVER,r=n.REACT_APP_PEERJS_SECURE,o=n.REACT_APP_PEERJS_DEBUG,c=new oe.a(e,{host:a,secure:"true"===r,debug:parseInt(o,10)});t(Ne(c)),c.on("open",function(e){ce.info("Successfully created Peer with id ",e),t(je(1))}),c.on("connection",function(e){ce.info("New client connected with id: ",e.peer),e.on("data",function(e){return function(e,t){var n=e.type,a=e.payload;switch(ce.info("Received Data: ",e),n){case"answer":console.log("Received answer",a),t(xe(a.questionIdx,a.answerIdx,a.userId));break;default:console.log("Default")}}(e,t)}),t(je(2)),t(function(e){return{type:ye,payload:{connection:e}}}(e))}),c.on("error",function(e){ce.error("FEHLER: ",e),t(je(3))})},_e={title:"Create a New Server Id",text:"Please define your individual Server Id that you can give to participants.",buttonText:"Create",location:"/server/wait"},Re=Object(ae.a)(Object(E.b)(function(e){return{serverId:e.server.ownServerId}},function(e){return{onChangeServerId:function(t){return e({type:ve,payload:{newId:t}})},onClickConnect:function(t){Te(t,e)}}})(function(e){return c.a.createElement(y.a,{className:"justify-content-center"},c.a.createElement(we,Object.assign({},e,_e)))})),Qe=n(7),ke=n(87),qe=n.n(ke),De=n(149),Pe=n.n(De),Me=n(31),Ue=n(150),Je=n.n(Ue),Fe=n(66),We=n.n(Fe),Le=n(615),Be=n(616),He=n(151),ze=n.n(He),Ge=n(622),Ve=n(613);var Xe=function(e){var t=e.id,n=e.text,a=e.placement;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ze.a,{style:{marginRight:"10px"},size:18,color:"#8a817c",id:t}),c.a.createElement(Ge.a,{placement:a,target:t,trigger:"hover"},c.a.createElement(Ve.a,null,n)))},Ye=n(614),Ke=n(153),$e=n(67),Ze=n.n($e),et=n(152),tt=n.n(et),nt=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={isHovered:!1},n}return Object(Q.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.answer,a=t.number,r=t.mode,o=t.selectedQuestion,s=t.isCorrectAnswer,l=t.onEditAnswerText,i=t.onSetCorrectSingleAnswer,u=t.onSetCorrectMultiAnswer,d=t.onDeleteAnswer,m=t.dragHandleProps,p=t.disabled,E=this.state.isHovered,f={isCorrectAnswer:s,selectedQuestion:o,number:a,disabled:p};return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",Object.assign({className:"invisible"},m)),c.a.createElement(q.a,{className:"mb-2",onMouseEnter:function(){return e.setState({isHovered:!0})},onMouseLeave:function(){return e.setState({isHovered:!1})}},c.a.createElement(Ye.a,{addonType:"prepend"},c.a.createElement(Ke.a,null,"single"===r?c.a.createElement(at,Object.assign({},f,{onSetCorrectAnswer:function(){i(o,a)}})):c.a.createElement(rt,Object.assign({},f,{onSetCorrectAnswer:function(){u(o,a)}})))),c.a.createElement(L.a,{value:n,onChange:l}),E&&c.a.createElement(Ye.a,{addonType:"append"},c.a.createElement(Ke.a,{className:"pointerCursor"},c.a.createElement(tt.a,null)),c.a.createElement(Ke.a,{className:"pointerCursor",onClick:function(){d(o,a)}},c.a.createElement(We.a,null)),c.a.createElement(Ke.a,Object.assign({className:"pointerCursor"},m),c.a.createElement(Ze.a,null)))))}}]),t}(c.a.Component),at=function(e){var t=e.isCorrectAnswer,n=(e.number,e.onSetCorrectAnswer),a=e.disabled;return c.a.createElement(L.a,{addon:!0,checked:t,type:"radio",name:"answer",onChange:n,disabled:a})};at.defaultProps={disabled:!1};var rt=function(e){var t=e.isCorrectAnswer,n=e.number,a=e.onSetCorrectAnswer,r=e.disabled;return c.a.createElement(L.a,{addon:!0,checked:t,type:"checkbox",name:"answer-".concat(n),onChange:a,disabled:r})};rt.defaultProps={disabled:!1};n(220),n(222),n(224);var ot=n(154),ct=n.n(ot),st=n(155),lt=n.n(st),it=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).formats=["bold","italic","underline","code-block","code","list","link"],n.modules={toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["code-block"],["clean"]],syntax:{highlight:function(e){return ct.a.highlightAuto(e).value}}},n.handleChange=function(e){var t=n.props;(0,t.onEditQuestionText)(t.selectedQuestion,e)},n}return Object(Q.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.content;return c.a.createElement(lt.a,{className:"mb-4",id:"question",value:e,formats:this.formats,modules:this.modules,onChange:this.handleChange})}}]),t}(c.a.Component),ut=function(e){var t=e.question,n=e.selectedQuestion,a=e.onEditAnswerText,r=e.onEditQuestionText,o=e.onEditQuestionMode,s=e.onEditQuestionType,l=e.onAddAnswer,i=e.onSortAnswer,u=e.onSetCorrectSingleAnswer,d=e.onSetCorrectMultiAnswer,m=e.onDeleteAnswer,p=e.onDeleteQuestion;return c.a.createElement(ue.a,{className:"shadow"},c.a.createElement(de.a,null,c.a.createElement("h6",{className:"my-0"},"Edit Question")),c.a.createElement(pe.a,null,null!=n?c.a.createElement(se.a,null,c.a.createElement(le.a,null,c.a.createElement(y.a,{form:!0,className:"justify-content-between"},c.a.createElement(Le.a,{sm:"auto"},"Question Text"),c.a.createElement(v.a,{sm:"auto"},c.a.createElement(Xe,{text:c.a.createElement(c.a.Fragment,null,"A ",c.a.createElement("strong",null,"question")," does have a set of correct answers. A ",c.a.createElement("strong",null,"vote")," does not have any correct answers. It will just show the distribution of all given answers."),id:"info-question-type",placement:"left"}),c.a.createElement(Be.a,{size:"sm"},c.a.createElement(ie.a,{outline:!0,color:"primary",active:"question"===t.type,onClick:function(){"question"!==t.type&&s(n,"question","vote")}},"Question"),c.a.createElement(ie.a,{outline:!0,color:"primary",active:"vote"===t.type,onClick:function(){"vote"!==t.type&&s(n,"vote","question")}},"Vote")))),c.a.createElement(y.a,{form:!0},c.a.createElement(v.a,null,c.a.createElement(it,{content:t.text,onEditQuestionText:r,selectedQuestion:n})))),c.a.createElement(le.a,null,c.a.createElement(y.a,{form:!0,className:"justify-content-between"},c.a.createElement(Le.a,{sm:"auto"},"Answers"," ",c.a.createElement("span",{className:"small text-muted"},"multi"===t.mode?"(Check the correct answers)":"(Select the correct answer)")),c.a.createElement(v.a,{sm:"auto"},c.a.createElement(Xe,{text:c.a.createElement(c.a.Fragment,null,"Choose if you want to allow users to pick just a"," ",c.a.createElement("strong",null,"single")," or ",c.a.createElement("strong",null,"multiple")," ","answers."),id:"info-question-mode",placement:"left"}),c.a.createElement(Be.a,{size:"sm"},c.a.createElement(ie.a,{outline:!0,color:"primary",onClick:function(){"single"!==t.mode&&o(n,"single","multi")},active:"single"===t.mode},"Single"),c.a.createElement(ie.a,{outline:!0,color:"primary",onClick:function(){"multi"!==t.mode&&o(n,"multi","single")},active:"multi"===t.mode},"Multiple")))),c.a.createElement(y.a,{form:!0},c.a.createElement(v.a,null,c.a.createElement(Me.a,{onDragEnd:function(e){var t=e.destination,a=e.source;t&&(t.droppableId===a.droppableId&&t.index===a.inde||i(n,a.index,t.index))}},c.a.createElement(Me.c,{droppableId:"answerList"},function(e){return c.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),t.answers.map(function(e,r){return c.a.createElement(Me.b,{draggableId:e.id,index:r,key:e.id},function(o){return c.a.createElement("div",Object.assign({},o.draggableProps,{ref:o.innerRef,key:e.id}),c.a.createElement(nt,{isCorrectAnswer:e.isCorrect,dragHandleProps:o.dragHandleProps,selectedQuestion:n,number:r,mode:t.mode,answer:e.text,key:e.id,onEditAnswerText:function(e){return a(n,e.target.value,r)},onSetCorrectSingleAnswer:u,onSetCorrectMultiAnswer:d,onDeleteAnswer:m,disabled:"vote"===t.type}))})}),e.placeholder)}))))),c.a.createElement(ie.a,{outline:!0,block:!0,color:"primary",onClick:function(){return l(n)}},c.a.createElement(Je.a,null)," Add answer"),c.a.createElement(ie.a,{outline:!0,block:!0,color:"danger",onClick:function(){return p(n)}},c.a.createElement(We.a,null)," Delete Question")):c.a.createElement("span",{className:"text-muted"},"No question selected")))};ut.defaultProps={question:{},selectedQuestion:0};var dt=ut,mt=n(159),pt=n.n(mt),Et=n(160),ft=n.n(Et),bt=n(618),gt=n(619),ht=n(620),wt=n(161),yt=n.n(wt),vt=n(162),St=n.n(vt),Ot=n(163),xt=n.n(Ot),At=n(617),Ct=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).handleSubmit=function(e){var t=n.props,a=t.onSelectFile,r=t.closeDropdown;e.preventDefault(),a(n.fileInput.current.files[0]),"function"===typeof r&&r()},n.fileInput=c.a.createRef(),n}return Object(Q.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"file",ref:this.fileInput,style:{display:"none"},onChange:this.handleSubmit}),c.a.cloneElement(t,{onClick:function(t){t.preventDefault(),e.fileInput.current.click()}}))}}]),t}(c.a.Component);Ct.defaultProps={closeDropdown:null};var It=Ct,jt=n(164),Nt=n.n(jt),Tt=!1,_t=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).onChoose=n.onChoose.bind(Object(k.a)(Object(k.a)(n))),n}return Object(Q.a)(t,e),Object(T.a)(t,null,[{key:"isDropboxReady",value:function(){return!!window.Dropbox}}]),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.appKey;t.isDropboxReady()||Tt||(Tt=!0,Nt()("https://www.dropbox.com/static/api/2/dropins.js",{attrs:{id:"dropboxjs","data-app-key":e}}))}},{key:"onChoose",value:function(){var e=this.props,n=e.success,a=e.cancel,r=e.linkType,o=e.multiselect,c=e.extensions,s=e.disabled;return!t.isDropboxReady()||s?null:window.Dropbox.choose({success:n,cancel:a,linkType:r,multiselect:o,extensions:c})}},{key:"render",value:function(){var e=this.props.children;return c.a.createElement("div",{onClick:this.onChoose},e||c.a.createElement("button",{type:"button"},"Open Dropbox Chooser"))}}]),t}(o.Component);_t.defaultProps={cancel:function(){},linkType:"preview",multiselect:!1,disabled:!1};var Rt=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).toggle=n.toggle.bind(Object(k.a)(Object(k.a)(n))),n.state={dropdownOpen:!1},n}return Object(Q.a)(t,e),Object(T.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})}},{key:"render",value:function(){var e=this.state.dropdownOpen,t=this.props,n=t.onUploadFile,a=t.onUploadDropbox;return c.a.createElement(At.a,{isOpen:e,toggle:this.toggle},c.a.createElement(P.a,{color:"light",caret:!0},c.a.createElement(yt.a,{className:"text-secondary"})," Import"," "),c.a.createElement(M.a,null,c.a.createElement(It,{onSelectFile:function(e){return n(e)},closeDropdown:this.toggle},c.a.createElement(U.a,{toggle:!1},c.a.createElement(St.a,{className:"text-secondary"})," File")),c.a.createElement(U.a,null,c.a.createElement(_t,{appKey:"d18bw92f2af5ssh",linkType:"direct",success:function(e){fetch(e[0].link).then(function(e){return e.text()}).then(function(e){return a(e)})}},c.a.createElement(xt.a,{className:"text-secondary"})," Dropbox"))))}}]),t}(c.a.Component),Qt=function(e){var t=e.questions,n=e.onSelectQuestion,a=e.onSortQuestion,r=e.selectedQuestion,o=e.onAddQuestion,s=e.onDownloadFile,l=e.onUploadFile,i=e.onUploadDropbox;return c.a.createElement(ue.a,{className:"shadow"},c.a.createElement(de.a,null,c.a.createElement("h6",{className:"my-0 d-flex justify-content-between"},"Questions",c.a.createElement(me.a,{color:"dark",pill:!0},t.length))),c.a.createElement(Me.a,{onDragEnd:function(e){var t=e.destination,n=e.source;t&&(t.droppableId===n.droppableId&&t.index===n.inde||a(n.index,t.index))}},c.a.createElement(Me.c,{droppableId:"questionList"},function(e){return c.a.createElement(bt.a,{flush:!0},c.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),t.map(function(e,t){return c.a.createElement(Me.b,{draggableId:e.id,index:t,key:e.id},function(a){return c.a.createElement("div",Object.assign({},a.draggableProps,{ref:a.innerRef,key:e.id}),c.a.createElement(gt.a,{key:e.id,tag:"a",href:"#",onClick:function(e){e.preventDefault(),n(t)},action:!0,active:r===t,className:"d-flex justify-content-between align-items-center hover-container"},function(e,t,n){var a=e.trim().split(" ");return a.length>t?a.slice(0,t).join(" ")+(n||""):e}((o=e.text,(new DOMParser).parseFromString(o,"text/html").body.textContent||""),7,"..."),c.a.createElement("div",Object.assign({className:"hover-hide"},a.dragHandleProps),c.a.createElement(Ze.a,{style:{marginBottom:"3px",marginRight:"-6px"}}))));var o})}),e.placeholder),0===t.length&&c.a.createElement(gt.a,{disabled:!0},c.a.createElement(ht.a,{className:"mb-0"},"No questions")))})),c.a.createElement(fe.a,{tag:"button",className:"cardFooterButton btn btn-light",onClick:function(){o()}},c.a.createElement(pt.a,{className:"text-success",style:{paddingBottom:"3px"}}),"Add Question"),c.a.createElement(fe.a,null,c.a.createElement("div",{className:"text-center"},c.a.createElement(Rt,{onUploadFile:l,onUploadDropbox:i}),c.a.createElement(ie.a,{color:"light",onClick:s},c.a.createElement(ft.a,{className:"text-secondary"})," Export"))))};Qt.defaultProps={questions:["No questions"],selectedQuestion:null};var kt=Qt,qt={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://www.weclare.de/questions.json",type:"array",title:"A question set for weclare.de",items:{type:"object",title:"A single questions",required:["id","type","text","answers"],properties:{id:{type:"string",title:"A unique id"},type:{type:"string",title:"Type of question (e.g. single, multi, text)"},mode:{type:"string",title:"Mode of question (e.g. a vote or question)"},text:{type:"string",title:"The question text"},answers:{type:"array",title:"All answer options for this question",items:{type:"object",title:"A single answer",required:["id","text","isCorrect"],properties:{id:{type:"string",title:"A unique id"},text:{type:"string",title:"The text of the answer"},isCorrect:{type:"boolean",title:"Flag if the answer is correct"}},additionalProperties:!1}}},additionalProperties:!1}},Dt="SELECT_QUESTION",Pt="ADD_QUESTION",Mt="EDIT_QUESTION_TEXT",Ut="EDIT_QUESTION_MODE",Jt="EDIT_QUESTION_TYPE",Ft="DELETE_QUESTION",Wt="LOAD_QUESTIONS",Lt="SORT_QUESTION";function Bt(e){return{type:Dt,payload:{questionIdx:e}}}function Ht(){return function(e,t){e({type:Pt}),e(Bt(t().questionEditor.length-1))}}function zt(e,t){return{type:Mt,payload:{questionIdx:e,text:t}}}function Gt(e,t,n){return{type:Ut,payload:{questionIdx:e,newMode:t,oldMode:n}}}function Vt(e,t,n){return{type:Jt,payload:{questionIdx:e,newType:t,oldType:n}}}function Xt(e){return function(t,n){t({type:Ft,payload:{questionIdx:e}});var a=n().selectedQuestion;t(Bt(a<=0?0:a-1))}}function Yt(e){return{type:Wt,payload:{newQuestions:e}}}function Kt(e,t){return function(n,a){n({type:Lt,payload:{oldQuestionIdx:e,newQuestionIdx:t}}),a().selectedQuestion===e&&n(Bt(t))}}var $t="SET_CORRECT_SINGLE_ANSWER",Zt="SET_CORRECT_MULTI_ANSWER",en="ADD_ANSWER",tn="EDIT_ANSWER_TEXT",nn="DELETE_ANSWER",an="SORT_ANSWER";function rn(e,t){return{type:$t,payload:{questionIdx:e,answerIdx:t}}}function on(e,t){return{type:Zt,payload:{questionIdx:e,answerIdx:t}}}function cn(e){return{type:en,payload:{questionIdx:e}}}function sn(e,t,n){return{type:tn,payload:{questionIdx:e,text:t,answerIdx:n}}}function ln(e,t){return{type:nn,payload:{questionIdx:e,answerIdx:t}}}function un(e,t,n){return{type:an,payload:{questionIdx:e,oldAnswerIdx:t,newAnswerIdx:n}}}var dn=Object(Qe.a)({},r,a),mn=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).loadQuestionsFromStorage=function(){var e=n.props.loadQuestions,t=localStorage.getItem("weclare");t&&e(JSON.parse(t))},n.downloadFile=function(e){var n="data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(e))),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download","weclare-".concat(t.getFormattedDate(),".json")),document.body.appendChild(a),a.click(),a.remove(),ce.info("Created and started file download")},n.saveToStorage=function(e){localStorage.setItem("weclare",e),ce.info("Saved questionset to local storage")},n.validateAndSaveToStorage=function(e){qe.a.validate(JSON.parse(e),qt)?(ce.info("Questionset was successfully validated"),n.saveToStorage(e),n.loadQuestionsFromStorage()):ce.error("Imported file was invalid",qe.a.error)},n.saveFileToStorage=function(e){var t=new FileReader;t.onload=function(){n.validateAndSaveToStorage(t.result)},t.readAsText(e)},n.loadQuestionsFromStorage(),n}return Object(Q.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.selectedQuestion,a=t.questions,r=t.history,o=t.addQuestion,s=t.selectQuestion,l=t.editQuestionText,i=t.editQuestionType,u=t.editQuestionMode,d=t.deleteQuestion,m=t.addAnswer,p=t.editAnswerText,E=t.deleteAnswer,f=t.setCorrectSingleAnswer,b=t.setCorrectMultiAnswer,g=t.initAnswers,h=t.sortQuestion,w=t.sortAnswer;return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{className:"justify-content-center mb-4"},c.a.createElement(v.a,{md:"4"},c.a.createElement(kt,{questions:a,selectedQuestion:n,onSelectQuestion:s,onAddQuestion:o,onSortQuestion:h,onDownloadFile:function(){e.saveToStorage(JSON.stringify(a)),e.downloadFile(a)},onUploadFile:this.saveFileToStorage,onUploadDropbox:this.validateAndSaveToStorage})),c.a.createElement(v.a,{md:"8"},c.a.createElement(dt,{question:a[n],selectedQuestion:n,onEditQuestionText:l,onEditQuestionMode:u,onEditQuestionType:i,onEditAnswerText:p,onAddAnswer:m,onSetCorrectSingleAnswer:f,onSetCorrectMultiAnswer:b,onSortAnswer:w,onDeleteAnswer:E,onDeleteQuestion:d}))),c.a.createElement(y.a,{className:"justify-content-end"},c.a.createElement(v.a,{xs:"auto"},c.a.createElement(ie.a,{outline:!0,block:!0,onClick:function(){g(),e.saveToStorage(JSON.stringify(a)),r&&r.push("/server/create")},color:"success"},c.a.createElement(Pe.a,{style:{paddingBottom:"3px"}})," Save & Continue"))))}}]),t}(c.a.Component);mn.getFormattedDate=function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),"".concat(t,"-").concat(n,"-").concat(a)};var pn=Object(ae.a)(Object(E.b)(function(e){return{questions:e.questionEditor,selectedQuestion:e.selectedQuestion}},dn)(mn)),En=n(165),fn=n.n(En),bn=n(0),gn=n.n(bn),hn=(gn.a.string,gn.a.number,gn.a.shape({question:gn.a.shape({progress:gn.a.string,questionIdx:gn.a.number,text:gn.a.string,type:gn.a.string,answers:gn.a.arrayOf(gn.a.object)})}),{question:{progress:"",questionIdx:null,text:null,type:null,answers:null},disabled:!1,selectedAnswerIdx:null}),wn=function(e){var t=e.title,n=e.size;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.Helmet,null,c.a.createElement("title",null,t)),c.a.createElement(ge,{title:t},c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(fn.a,{color1:"#8a817c",color2:"#f44336",color3:"#dc9125",color4:"#5fa15d",size:n}))))};wn.defaultProps={title:"Waiting",size:30};var yn=wn;var vn=Object(E.b)(function(e){return{status:e.connection.status,connections:e.server.connections}})(Object(ae.a)(function(e){var t=e.connections,n=e.history,a=t.length>0,r=1===t.length?"client":"clients",o=1===t.length?"is":"are";return c.a.createElement(y.a,{className:"justify-content-center"},a?c.a.createElement(ge,{title:"Start the quiz",text:"Currently there ".concat(o," ").concat(t.length," ").concat(r," connected. You can choose to wait for more participants or just go ahead and start the quiz.")},c.a.createElement(ie.a,{color:"secondary",block:!0,onClick:function(){n.push("/server/ask")}},"Start Quiz")):c.a.createElement(yn,{title:"Waiting for participants"}))})),Sn=n(166),On=n(167),xn=n.n(On),An=n(168),Cn=n.n(An),In=n(169),jn=n.n(In),Nn=n(170),Tn=n.n(Nn),_n=function(e){var t=e.question,n=e.onClickAnswer,a=e.countedAnswers,r=e.disabled,o=e.selectedAnswerIdx;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.Helmet,null,c.a.createElement("title",null,"Answer question")),c.a.createElement(ge,Object.assign({title:"Answer question",badge:t.progress},e),t.text&&c.a.createElement("div",{className:"text-center mb-4 h4",dangerouslySetInnerHTML:{__html:t.text}}),t.answers&&t.answers.map(function(e,t){return c.a.createElement(ie.a,{outline:o!==t,id:t,key:t,block:!0,onClick:n?function(e){var t=parseInt(e.target.id,10);n(t)}:null,color:"secondary",disabled:r},e.text,a&&c.a.createElement(me.a,{className:"float-right",color:"secondary"},0!==a[t]&&a[t]))})))};_n.defaultProps={question:hn};var Rn=_n,Qn=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={buttonPhase:0,countedAnswers:null},n}return Object(Q.a)(t,e),Object(T.a)(t,[{key:"countAnswers",value:function(e,t){var n=e[t].map(function(e){return e.length});this.setState(function(e){return Object(Qe.a)({},e,{countedAnswers:n})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.connections,a=t.questions,r=t.currentQuestionIdx,o=t.setCurrentQuestionIdx,s=t.toggleAcceptingAnswers,l=(t.history,t.status,t.registeredAnswers),i=this.state,u=i.buttonPhase,d=i.countedAnswers,m=n.length>0,p=r||0,E=p+1,f=function(e,t){if(e&&e[t]){var n=e[t],a=Object(Sn.a)({},n),r=String(t+1),o=Object.keys(e).length;return{question:Object(Qe.a)({},a,{questionIdx:t,progress:"".concat(r,"/").concat(o)})}}return null}(a,p);return c.a.createElement(y.a,{className:"justify-content-center"},m?c.a.createElement(Rn,{question:f.question,countedAnswers:d,disabled:!0,footer:m&&c.a.createElement(ie.a,{color:"secondary",block:!0,onClick:function(){switch(u){case 0:!function(e,t){t.length>0&&e?t.forEach(function(t){return t.send(JSON.stringify(e))}):console.error("Can't send question to clients")}(f,n),s(),e.setState({buttonPhase:1});break;case 1:s(),e.setState({buttonPhase:2});break;case 2:e.countAnswers(l,p),e.setState({buttonPhase:3});break;case 3:o(E),e.setState({buttonPhase:0})}}},function(){switch(u){case 0:return c.a.createElement(c.a.Fragment,null,c.a.createElement(xn.a,{style:{paddingBottom:"3px"}})," Start question");case 1:return c.a.createElement(c.a.Fragment,null,c.a.createElement(Cn.a,{style:{paddingBottom:"3px"}})," Stop Question");case 2:return c.a.createElement(c.a.Fragment,null,c.a.createElement(Tn.a,{style:{paddingBottom:"3px"}})," ","Show Results");case 3:return c.a.createElement(c.a.Fragment,null,c.a.createElement(jn.a,{style:{paddingBottom:"3px"}})," ","Next Question");default:return c.a.createElement(c.a.Fragment,null)}}())}):c.a.createElement(yn,{title:"Waiting for participants"}))}}]),t}(c.a.Component),kn={setCurrentQuestionIdx:function(e){return{type:"SET_CURRENT_QUESTION_IDX",payload:{questionIdx:e}}},toggleAcceptingAnswers:function(){return{type:"TOGGLE_ACCEPTING_ANSWERS"}}},qn=Object(E.b)(function(e){return{status:e.connection.status,connections:e.server.connections,questions:e.questionEditor,currentQuestionIdx:e.server.currentQuestion,registeredAnswers:e.registeredAnswers}},kn)(Object(ae.a)(Qn)),Dn=n(35),Pn=n(42),Mn=n.n(Pn),Un=function(e,t,n){return e.map(function(e,a){return t===a?n(e):e})},Jn=function(e,t,n){e&&e.splice(n,0,e.splice(t,1)[0])},Fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{connections:[],ownServerId:"",currentQuestion:null,acceptingAnswers:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_QUESTION_IDX":return Object(Qe.a)({},e,{currentQuestion:t.payload.questionIdx});case ye:return Object(Qe.a)({},e,{connections:[].concat(Object(Dn.a)(e.connections),[t.payload.connection])});case ve:return Object(Qe.a)({},e,{ownServerId:t.payload.newId});case"TOGGLE_ACCEPTING_ANSWERS":return Object(Qe.a)({},e,{acceptingAnswers:!e.acceptingAnswers});default:return e}},Wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return t.payload.array;case Se:return console.log("Reducer",t.payload),Un(e,t.payload.questionIdx,function(e){return Un(e,t.payload.answerIdx,function(e){return e.push(t.payload.userId),e})});default:return e}},Ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{peer:null,status:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(Qe.a)({},e,{status:t.payload.newStatus});case Ce:return Object(Qe.a)({},e,{peer:t.payload.peer});default:return e}},Bn=Object(f.combineReducers)({registeredAnswers:Wn,connection:Ln,server:Fn,questionEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:var n=JSON.parse(JSON.stringify(e));return n.push({id:Mn()(6),type:"question",mode:"single",text:"<p>New question</p>",answers:[{id:Mn()(6),text:"Answer A",isCorrect:!0},{id:Mn()(6),text:"Answer B",isCorrect:!1}]}),n;case Mt:var a=t.payload,r=a.questionIdx,o=a.text,c=JSON.parse(JSON.stringify(e));return c[r]=Object(Qe.a)({},c[r],{text:o}),c;case Ut:var s=t.payload,l=s.questionIdx,i=s.newMode,u=JSON.parse(JSON.stringify(e)),d=!1;return u[l]=Object(Qe.a)({},u[l],{answers:e[l].answers.map(function(e){return e.isCorrect&&!d?(d=!0,Object(Qe.a)({},e,{isCorrect:!0})):Object(Qe.a)({},e,{isCorrect:!1})}),mode:i}),u;case Jt:var m=t.payload,p=m.questionIdx,E=m.newType,f=m.oldType,b=JSON.parse(JSON.stringify(e));return b[p]=Object(Qe.a)({},b[p],{answers:e[p].answers.map(function(e){return Object(Qe.a)({},e,{isCorrect:!1})}),type:E}),"question"===E&&"vote"===f&&(b[p].answers[0].isCorrect=!0),b;case Ft:var g=JSON.parse(JSON.stringify(e));return[].concat(Object(Dn.a)(g.slice(0,t.payload.questionIdx)),Object(Dn.a)(g.slice(t.payload.questionIdx+1)));case nn:var h=t.payload,w=h.questionIdx,y=h.answerIdx,v=JSON.parse(JSON.stringify(e));return Un(v,w,function(e){return Object(Qe.a)({},e,{answers:(t=e.answers,n=y,t.filter(function(e,t){return n!==t}))});var t,n});case en:var S=t.payload.questionIdx,O=JSON.parse(JSON.stringify(e));return O[S]=Object(Qe.a)({},e[S],{answers:[].concat(Object(Dn.a)(e[S].answers),[{id:Mn()(6),text:"New answer",isCorrect:!1}])}),O;case tn:var x=t.payload,A=x.questionIdx,C=x.text,I=x.answerIdx,j=JSON.parse(JSON.stringify(e));return Un(j,A,function(e){return Object(Qe.a)({},e,{answers:Un(e.answers,I,function(e){return Object(Qe.a)({},e,{text:C})})})});case $t:var N=t.payload,T=N.questionIdx,_=N.answerIdx,R=JSON.parse(JSON.stringify(e)),Q=R[T].answers.map(function(e,t){return t===_?Object(Qe.a)({},e,{isCorrect:!0}):Object(Qe.a)({},e,{isCorrect:!1})});return R[T].answers=Q,R;case Zt:var k=t.payload,q=k.questionIdx,D=k.answerIdx,P=JSON.parse(JSON.stringify(e)),M=P[q].answers.map(function(e,t){return t===D?Object(Qe.a)({},e,{isCorrect:!e.isCorrect}):e});return P[q].answers=M,P;case Wt:return t.payload.newQuestions;case Lt:var U=t.payload,J=U.newQuestionIdx,F=U.oldQuestionIdx,W=JSON.parse(JSON.stringify(e));return Jn(W,F,J),W;case an:var L=t.payload,B=L.questionIdx,H=L.newAnswerIdx,z=L.oldAnswerIdx,G=JSON.parse(JSON.stringify(e));return Jn(G[B].answers,z,H),G;default:return e}},selectedQuestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return t.payload.questionIdx;default:return e}}}),Hn=Object(f.createStore)(Bn,Object(g.composeWithDevTools)(Object(f.applyMiddleware)(b.a))),zn=function(){return c.a.createElement("div",null,c.a.createElement(E.a,{store:Hn},c.a.createElement(c.a.Fragment,null,c.a.createElement(ne,null),c.a.createElement(p.a,null,c.a.createElement(d.a,{exact:!0,path:"/server/create",component:Re}),c.a.createElement(d.a,{exact:!0,path:"/server/editor",component:pn}),c.a.createElement(d.a,{exact:!0,path:"/server/wait",component:vn}),c.a.createElement(d.a,{exact:!0,path:"/server/ask",component:qn}),c.a.createElement(S,null)))))},Gn="ADD_CONNECTION",Vn="SET_REMOTE_SERVER_ID",Xn="SET_CURRENT_QUESTION";var Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{connection:null,remoteServerId:"",questionIdx:null,currentQuestion:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gn:return Object(Qe.a)({},e,{connection:t.payload.connection});case Vn:return Object(Qe.a)({},e,{remoteServerId:t.payload.newId});case Xn:return Object(Qe.a)({},e,{currentQuestion:t.payload.newQuestion});default:return e}},Kn=Object(f.combineReducers)({connection:Ln,client:Yn}),$n=Object(E.b)(function(e){return{status:e.connection.status}})(function(e){return c.a.createElement(te,Object.assign({isClient:!0},e))}),Zn=function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_PEERJS_SERVER:"peerjs-server-mvmastudcl.now.sh",REACT_APP_PEERJS_SECURE:"true",REACT_APP_PEERJS_DEBUG:"2",REACT_APP_DROPBOX_APP_KEY:"d18bw92f2af5ssh"}),a=n.REACT_APP_PEERJS_SERVER,r=n.REACT_APP_PEERJS_SECURE,o=n.REACT_APP_PEERJS_DEBUG,c=new oe.a({host:a,secure:"true"===r,debug:parseInt(o,10)});!function(e){var t=0;function n(){t=setTimeout(n,2e4),e.socket._wsOpen()&&(e.socket.send({type:"HEARTBEAT"}),ce.info("Sent heartbeat"))}n()}(c);t(Ne(c)),c.on("error",function(e){console.error(e),t(je(3))});var s=c.connect(e,{reliable:!1});t(function(e){return{type:Gn,payload:{connection:e}}}(s)),t(je(1)),s.on("open",function(){console.log("Client Connected"),t(je(2)),s.on("data",function(e){var n,a=JSON.parse(e);console.log("Received data: ",a),t((n=a.question,{type:Xn,payload:{newQuestion:n}}))})})},ea={title:"Connect to Server",text:"Please enter a valid Server ID. You should receive this ID from your instructor.",buttonText:"Connect",location:"/client/answer"},ta=Object(E.b)(function(e){return{serverId:e.client.remoteServerId}},function(e){return{onChangeServerId:function(t){return e({type:Vn,payload:{newId:t}})},onClickConnect:function(t){return Zn(t,e)}}})(function(e){return c.a.createElement(y.a,{className:"justify-content-center"},c.a.createElement(we,Object.assign({},e,ea)))}),na=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).initialState={disabled:!1,selectedAnswerIdx:null},n.state=n.initialState,n}return Object(Q.a)(t,e),Object(T.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.currentQuestion!==e.currentQuestion&&this.resetState()}},{key:"resetState",value:function(){this.setState(this.initialState)}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentQuestion,a=t.connection,r=this.state,o=r.disabled,s=r.selectedAnswerIdx,l=Object.keys(n).length>0;return c.a.createElement(y.a,{className:"justify-content-center"},l?c.a.createElement(Rn,{question:n,disabled:o,selectedAnswerIdx:s,onClickAnswer:function(t){console.log("Sending back answer ",t,n),function(e,t,n){e&&e.send({type:"answer",payload:{questionIdx:n,answerIdx:t,userId:e.provider.id}})}(a,t,n.questionIdx),e.setState({disabled:!0,selectedAnswerIdx:t},function(){return console.log("New state",e.state)})}}):c.a.createElement(yn,{title:"Waiting for question"}))}}]),t}(c.a.Component);na.defaultProps={currentQuestion:hn};var aa=Object(E.b)(function(e){return{currentQuestion:e.client.currentQuestion,connection:e.client.connection}})(na),ra=Object(f.createStore)(Kn,Object(g.composeWithDevTools)(Object(f.applyMiddleware)(b.a))),oa=function(){return c.a.createElement("div",null,c.a.createElement(E.a,{store:ra},c.a.createElement(c.a.Fragment,null,c.a.createElement($n,null),c.a.createElement(p.a,null,c.a.createElement(u.a,null,c.a.createElement(d.a,{exact:!0,path:"/client/connect/:serverId?",component:ta}),c.a.createElement(d.a,{exact:!0,path:"/client/answer",component:aa})),c.a.createElement(S,null)))))},ca=n(171),sa=(n(583),function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).state={data:""},n}return Object(Q.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("","/README.MD")).then(function(e){return e.text()}).then(function(e){return Object(ca.a)(e)}).then(function(t){return e.setState({data:t})})}},{key:"render",value:function(){var e=this.state.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(te,null),c.a.createElement(p.a,null,c.a.createElement(y.a,null,c.a.createElement(v.a,{md:"12"},c.a.createElement(ue.a,{className:"shadow"},c.a.createElement(de.a,null,c.a.createElement("h6",{className:"my-0"},"About")),c.a.createElement(pe.a,null,c.a.createElement("div",{className:"markdown-body",style:{fontFamily:"IBM Plex Sans"},dangerouslySetInnerHTML:{__html:e}}))))),c.a.createElement(S,null)))}}]),t}(c.a.Component)),la=function(e){var t=e.header,n=e.text,a=e.children,r=e.emoji;return c.a.createElement("div",null,c.a.createElement(ue.a,{className:"shadow"},c.a.createElement(de.a,null,c.a.createElement("h4",{className:"my-0"},t)),c.a.createElement(pe.a,null,c.a.createElement(Ee.a,null,c.a.createElement("span",{role:"img","aria-label":"Student",className:"d-block",style:{fontSize:"4em"}},r),c.a.createElement("span",null,n)),a)))};la.defaultProps={header:"",text:"",children:"",emoji:""};var ia=la,ua=function(){return c.a.createElement(p.a,null,c.a.createElement("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center"},c.a.createElement("h1",{className:"display-4"},"Weclare"),c.a.createElement("p",{className:"lead"},"A web based, peer-to-peer classroom response system, tailored to computer science education at university level.")),c.a.createElement(y.a,null,c.a.createElement(v.a,{sm:"6"},c.a.createElement("div",{className:"card-deck mb-3 text-center"},c.a.createElement(ia,{header:"For Students",text:"Start the client app, which allows you to connect to an existing session and answer questions.",emoji:"\ud83d\udc69\u200d\ud83c\udf93"},c.a.createElement(ie.a,{tag:O.a,to:"/client/connect",className:"btn btn-lg btn-block btn-outline-primary"},"Join Quiz")))),c.a.createElement(v.a,{sm:"6"},c.a.createElement("div",{className:"card-deck mb-3 text-center"},c.a.createElement(ia,{header:"For Instructors",text:"Start the server app, which allows you to create new question sets and accept connections from students.",emoji:"\ud83d\udc69\u200d\ud83c\udfeb"},c.a.createElement(ie.a,{tag:O.a,to:"/server/editor",className:"btn btn-lg btn-block btn-outline-primary"},"Create Quiz"))))),c.a.createElement(S,null))},da=(n(585),function(){return c.a.createElement(i.a,{basename:""},c.a.createElement("div",{className:"App"},c.a.createElement(m.Helmet,{titleTemplate:"Weclare | %s",defaultTitle:"Weclare \u2013 A web based classroom response system"}),c.a.createElement(u.a,null,c.a.createElement(d.a,{path:"/",exact:!0,component:ua}),c.a.createElement(d.a,{path:"/server",component:zn}),c.a.createElement(d.a,{path:"/client",component:oa}),c.a.createElement(d.a,{path:"/about",component:sa}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(da,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[172,2,1]]]);
//# sourceMappingURL=main.f63c2220.chunk.js.map