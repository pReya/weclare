(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,n){e.exports=n(560)},151:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=151},195:function(e,t,n){},558:function(e,t,n){},560:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"REGISTER_ANSWER",function(){return Ce}),n.d(a,"INIT_ANSWERS",function(){return Ae}),n.d(a,"registerAnswer",function(){return je}),n.d(a,"initAnswers",function(){return Ne}),n.d(a,"getAnswerCount",function(){return Te});var r={};n.r(r),n.d(r,"SELECT_QUESTION",function(){return Bt}),n.d(r,"ADD_QUESTION",function(){return Lt}),n.d(r,"EDIT_QUESTION_TEXT",function(){return Ht}),n.d(r,"EDIT_QUESTION_MODE",function(){return zt}),n.d(r,"EDIT_QUESTION_TYPE",function(){return Gt}),n.d(r,"DELETE_QUESTION",function(){return Vt}),n.d(r,"LOAD_QUESTIONS",function(){return Xt}),n.d(r,"SORT_QUESTION",function(){return Yt}),n.d(r,"selectQuestion",function(){return Kt}),n.d(r,"addQuestion",function(){return $t}),n.d(r,"editQuestionText",function(){return Zt}),n.d(r,"editQuestionMode",function(){return en}),n.d(r,"editQuestionType",function(){return tn}),n.d(r,"deleteQuestion",function(){return nn}),n.d(r,"loadQuestions",function(){return an}),n.d(r,"sortQuestion",function(){return rn}),n.d(r,"SET_CORRECT_SINGLE_ANSWER",function(){return on}),n.d(r,"SET_CORRECT_MULTI_ANSWER",function(){return sn}),n.d(r,"ADD_ANSWER",function(){return cn}),n.d(r,"EDIT_ANSWER_TEXT",function(){return ln}),n.d(r,"DELETE_ANSWER",function(){return un}),n.d(r,"SORT_ANSWER",function(){return dn}),n.d(r,"setCorrectSingleAnswer",function(){return mn}),n.d(r,"setCorrectMultiAnswer",function(){return pn}),n.d(r,"addAnswer",function(){return En}),n.d(r,"editAnswerText",function(){return fn}),n.d(r,"deleteAnswer",function(){return hn}),n.d(r,"sortAnswer",function(){return bn});var o=n(1),s=n.n(o),c=n(21),l=n.n(c),i=n(598),u=n(601),d=n(596),m=n(33),p=n(572),E=n(11),f=n(16),h=n(55),b=n(56),v=n(154),y=n.n(v),g=n(561),w=n(562),S=function(){return s.a.createElement("div",null,s.a.createElement("hr",null),s.a.createElement("footer",{className:"container"},s.a.createElement(g.a,null,s.a.createElement(w.a,null,s.a.createElement("a",{className:"font-weight-light text-muted",href:"/about"},"\xa9 2018 Moritz St\xfcckler \u2013 HAW Hamburg")),s.a.createElement(w.a,{className:"text-right"},s.a.createElement("a",{href:"https://github.com/pReya/weclare/"},s.a.createElement(y.a,null))))))},O=n(577),x=n(571),I=n(573),C=n(574),A=n(575),j=n(576),N=n(9),T=n(8),_=n(13),R=n(12),k=n(14),Q=n(19),P=n(563),q=n(564),D=n(565),U=n(566),J=n(567),M=n(599),F=n(568),W=n(569),B=n(570),L=n(156),H=n.n(L),z=n(157),G=n.n(z),V=n(158),X=n.n(V),Y=n(159),K=n.n(Y),$=function(e){var t=document.createElement("input");t.style="position: absolute; left: -1000px; top: -1000px",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},Z=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).toggleDropdown=n.toggleDropdown.bind(Object(Q.a)(Object(Q.a)(n))),n.toggleModal=n.toggleModal.bind(Object(Q.a)(Object(Q.a)(n))),n.state={dropdownOpen:!1,showModal:!1},n}return Object(k.a)(t,e),Object(T.a)(t,[{key:"toggleDropdown",value:function(){this.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})}},{key:"toggleModal",value:function(){this.setState(function(e){return{showModal:!e.showModal}})}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.isServer,a=e.numberOfClients,r=e.ownServerId,o=this.state,c=o.dropdownOpen,l=o.showModal,i={client:["\u2328\ufe0f Ready","Trying to connect","\u2705 Connected","\u274c Error"],server:["\u2328\ufe0f Ready","\u2753 Waiting for connections","\u2705 ".concat(a," Clients Connected"),"\u274c Error"]}[n?"server":"client"][t];return s.a.createElement(P.a,{className:"justify-content-center col-md-8"},n&&[1,2,3].includes(t)?s.a.createElement(q.a,{addonType:"prepend",isOpen:c,toggle:this.toggleDropdown},s.a.createElement(D.a,{caret:!0,className:"font-weight-bold"},"".concat(r," ")),s.a.createElement(U.a,null,s.a.createElement(J.a,{header:!0},"Share with client"),s.a.createElement(J.a,{divider:!0}),s.a.createElement(J.a,{style:{cursor:"pointer"},onClick:this.toggleModal},s.a.createElement(X.a,{className:"text-muted"}),"  ","Show QR Code"),s.a.createElement(M.a,{isOpen:l,toggle:this.toggleModal,size:"lg"},s.a.createElement(F.a,{toggle:this.toggleModal},"Share QR Code"),s.a.createElement(W.a,null,s.a.createElement(K.a,{value:"".concat(window.location.origin,"/client/connect/").concat(r),style:{width:"100%",height:"100%"},renderAs:"svg"}))),document.queryCommandSupported("copy")&&s.a.createElement(J.a,{onClick:function(){$(r)},style:{cursor:"pointer"}},s.a.createElement(G.a,{className:"text-muted"}),"  ","Copy ID"),s.a.createElement(J.a,{style:{cursor:"pointer"},onClick:function(){$(encodeURI("".concat(window.location.origin,"/client/connect/").concat(r)))}},s.a.createElement(H.a,{className:"text-muted"}),"  ","Copy Link"))):null,s.a.createElement(B.a,{className:"text-center col-5",value:i,disabled:!0}))}}]),t}(s.a.Component);Z.defaultProps={isServer:!1,numberOfClients:0,ownServerId:""};var ee=function(e){var t=e.status,n=e.numberOfClients,a=e.isServer,r=e.isClient,o=e.ownServerId;return s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{expand:"sm",className:"mb-4 border-bottom shadow-sm d-flex flex-row justify-content-between bg-white"},s.a.createElement(p.a,null,s.a.createElement(I.a,{href:"/"},"Weclare",a?" Server":" Client"),(a||r)&&s.a.createElement(Z,{isServer:a,status:t,numberOfClients:n,ownServerId:o}),s.a.createElement(C.a,{className:"flex-row"},s.a.createElement(A.a,null,s.a.createElement(j.a,{tag:O.a,to:"/about"},"About"))))))};ee.defaultProps={isServer:!1,isClient:!1,numberOfClients:0,ownServerId:"",status:0};var te=ee,ne=Object(E.b)(function(e){return{status:e.connection.status,numberOfClients:e.connection.peer?Object.keys(e.connection.peer.connections).length:null,ownServerId:e.server.ownServerId}})(function(e){return s.a.createElement(te,Object.assign({isServer:!0},e))}),ae=n(600),re=n(584),oe=n(585),se=n(586),ce=n(587),le=n(145),ie=(n(175),n(578)),ue=n(579),de=n(580),me=n(581),pe=n(582),Ee=n(583);function fe(e){var t=e.title,n=e.text,a=e.children,r=e.badge,o=e.footer;return s.a.createElement(w.a,{md:"8"},s.a.createElement(ie.a,{className:"shadow"},s.a.createElement(ue.a,null,r?s.a.createElement("h6",{className:"my-0 d-flex justify-content-between"},t,s.a.createElement(de.a,{color:"dark",pill:!0},r)):s.a.createElement("h6",{className:"my-0"},t)),s.a.createElement(me.a,null,n&&s.a.createElement(pe.a,null,n),a),o&&s.a.createElement(Ee.a,null,o)))}fe.defaultProps={text:null,children:null,badge:null,footer:null};var he=fe,be=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={inputIsInvalid:!1},n}return Object(k.a)(t,e),Object(T.a)(t,[{key:"validateServerId",value:function(e){var t=!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e);this.setState({inputIsInvalid:!t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,a=t.onChangeServerId,r=t.onClickConnect,o=t.serverId,c=t.title,l=t.text,i=t.buttonText,u=t.history,d=t.location,m=t.helpText,p=t.validationError,E=this.state.inputIsInvalid;return n&&n.params&&n.params.serverId&&a(n.params.serverId),s.a.createElement(he,{title:c,text:l},s.a.createElement(re.a,null,s.a.createElement(oe.a,{row:!0,className:"form-row"},s.a.createElement(w.a,null,s.a.createElement(B.a,{bsSize:"lg",id:"serverId",type:"text",value:o,onChange:function(t){var n=t.target.value;e.validateServerId(n),a(n)},invalid:E}),p&&s.a.createElement(se.a,null,p),m&&s.a.createElement(ce.a,null,m)),s.a.createElement(w.a,{md:3},s.a.createElement(le.a,{type:"button",id:"connect",className:"btn-block",size:"lg",onClick:function(){r(o),u&&d&&u.push(d)},disabled:E},i)))))}}]),t}(s.a.Component);be.defaultProps={helpText:void 0,match:void 0,buttonText:"Connect",validationError:void 0,inputIsInvalid:!1};var ve=be,ye=n(59),ge=n.n(ye),we=function(){function e(){Object(N.a)(this,e)}return Object(T.a)(e,null,[{key:"info",value:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emitMessage("info",t,a)}},{key:"error",value:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emitMessage("error",t,a)}},{key:"warn",value:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emitMessage("warn",t,a)}},{key:"debug",value:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emitMessage("debug",t,a)}},{key:"emitMessage",value:function(e,t,n){n.length>0?console[e](t,n):console[e](t)}}]),e}(),Se="SET_PEER",Oe="SET_CONNECTION_STATUS";function xe(e){return{type:Oe,payload:{newStatus:e}}}function Ie(e){return{type:Se,payload:{peer:e}}}var Ce="REGISTER_ANSWER",Ae="INIT_ANSWERS";function je(e,t,n){return function(a,r){r().server.acceptingAnswers?a({type:Ce,payload:{questionIdx:e,answerIdx:t,userId:n}}):console.log("TEST")}}function Ne(){return function(e,t){var n=t().questionEditor.map(function(e){return e.answers.map(function(){return[]})});e({type:Ae,payload:{array:n}})}}function Te(e){return function(t,n){return n().registeredAnswers[e].map(function(e){return e.length})}}var _e=function(e){return e.questionEditor[e.server.currentQuestionIdx]},Re="ADD_CONNECTION";var ke="SET_SERVER_ID";function Qe(e){return{type:ke,payload:{newId:e}}}var Pe="SET_CURRENT_QUESTION_IDX";var qe="TOGGLE_ACCEPTING_ANSWERS";function De(){return function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_PEERJS_SERVER:"peerjs-server-mvmastudcl.now.sh",REACT_APP_PEERJS_SECURE:"true",REACT_APP_PEERJS_DEBUG:"2",REACT_APP_DROPBOX_APP_KEY:"d18bw92f2af5ssh"}),a=n.REACT_APP_PEERJS_SERVER,r=n.REACT_APP_PEERJS_SECURE,o=n.REACT_APP_PEERJS_DEBUG,s=t().server.ownServerId,c=void 0===s?null:s,l=new ge.a(c,{host:a,secure:"true"===r,debug:parseInt(o,10)});e(Ie(l)),l.on("open",function(t){we.info("Successfully created Peer with id ",t),e(xe(1)),e(Qe(t))}),l.on("connection",function(t){we.info("New client connected with id: ",t.peer),t.on("data",function(t){return function(t){var n=t.type,a=t.payload;switch(we.info("Received Data: ",t),n){case"answer":console.log("Received answer",a),e(je(a.questionIdx,a.answerIdx,a.userId));break;default:console.log("Default")}}(t)}),e(xe(2)),e(function(e){return{type:Re,payload:{connection:e}}}(t))}),l.on("error",function(t){we.error("ERROR: ",t),e(xe(3))})}}var Ue={title:"Choose a Server ID",text:"Please pick a server ID that uniquely identifies your quiz session (e.g. 'algorithms_2_2018') or leave it empty to generate a random ID.",buttonText:"Create",location:"/server/ask",validationError:"Only alphanumeric characters and '-','_' or spaces are allowed."},Je=Object(ae.a)(Object(E.b)(function(e){return{serverId:e.server.ownServerId}},function(e){return{onChangeServerId:function(t){return e(Qe(t))},onClickConnect:function(){e(De())}}})(function(e){return s.a.createElement(g.a,{className:"justify-content-center"},s.a.createElement(ve,Object.assign({},e,Ue)))})),Me=n(7),Fe=n(83),We=n.n(Fe),Be=n(127),Le=n.n(Be),He=n(28),ze=n(128),Ge=n.n(ze),Ve=n(62),Xe=n.n(Ve),Ye=n(590),Ke=n(591),$e=n(129),Ze=n.n($e),et=n(597),tt=n(588);var nt=function(e){var t=e.id,n=e.text,a=e.placement;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ze.a,{style:{marginRight:"10px"},size:18,color:"#8a817c",id:t}),s.a.createElement(et.a,{placement:a,target:t,trigger:"hover"},s.a.createElement(tt.a,null,n)))},at=n(589),rt=n(177),ot=n(63),st=n.n(ot),ct=n(130),lt=n.n(ct),it=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={isHovered:!1},n}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.answer,a=t.number,r=t.mode,o=t.selectedQuestion,c=t.isCorrectAnswer,l=t.onEditAnswerText,i=t.onSetCorrectSingleAnswer,u=t.onSetCorrectMultiAnswer,d=t.onDeleteAnswer,m=t.dragHandleProps,p=t.disabled,E=this.state.isHovered,f={isCorrectAnswer:c,selectedQuestion:o,number:a,disabled:p};return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",Object.assign({className:"invisible"},m)),s.a.createElement(P.a,{className:"mb-2",onMouseEnter:function(){return e.setState({isHovered:!0})},onMouseLeave:function(){return e.setState({isHovered:!1})}},s.a.createElement(at.a,{addonType:"prepend"},s.a.createElement(rt.a,null,"single"===r?s.a.createElement(ut,Object.assign({},f,{onSetCorrectAnswer:function(){i(o,a)}})):s.a.createElement(dt,Object.assign({},f,{onSetCorrectAnswer:function(){u(o,a)}})))),s.a.createElement(B.a,{value:n,onChange:l}),E&&s.a.createElement(at.a,{addonType:"append"},s.a.createElement(rt.a,{className:"pointerCursor"},s.a.createElement(lt.a,null)),s.a.createElement(rt.a,{className:"pointerCursor",onClick:function(){d(o,a)}},s.a.createElement(Xe.a,null)),s.a.createElement(rt.a,Object.assign({className:"pointerCursor"},m),s.a.createElement(st.a,null)))))}}]),t}(s.a.Component),ut=function(e){var t=e.isCorrectAnswer,n=(e.number,e.onSetCorrectAnswer),a=e.disabled;return s.a.createElement(B.a,{addon:!0,checked:t,type:"radio",name:"answer",onChange:n,disabled:a})};ut.defaultProps={disabled:!1};var dt=function(e){var t=e.isCorrectAnswer,n=e.number,a=e.onSetCorrectAnswer,r=e.disabled;return s.a.createElement(B.a,{addon:!0,checked:t,type:"checkbox",name:"answer-".concat(n),onChange:a,disabled:r})};dt.defaultProps={disabled:!1};n(193),n(195),n(197);var mt=n(131),pt=n.n(mt),Et=n(178),ft=n.n(Et),ht=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).formats=["bold","italic","underline","code-block","code","list","link"],n.modules={toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["code-block"],["clean"]],syntax:{highlight:function(e){return pt.a.highlightAuto(e).value}}},n.handleChange=function(e){var t=n.props;(0,t.onEditQuestionText)(t.selectedQuestion,e)},n}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.content;return s.a.createElement(ft.a,{className:"mb-4",id:"question",value:e,formats:this.formats,modules:this.modules,onChange:this.handleChange})}}]),t}(s.a.Component),bt=function(e){var t=e.question,n=e.selectedQuestion,a=e.onEditAnswerText,r=e.onEditQuestionText,o=e.onEditQuestionMode,c=e.onEditQuestionType,l=e.onAddAnswer,i=e.onSortAnswer,u=e.onSetCorrectSingleAnswer,d=e.onSetCorrectMultiAnswer,m=e.onDeleteAnswer,p=e.onDeleteQuestion;return s.a.createElement(ie.a,{className:"shadow"},s.a.createElement(ue.a,null,s.a.createElement("h6",{className:"my-0"},"Edit Question")),s.a.createElement(me.a,null,null!=n?s.a.createElement(re.a,null,s.a.createElement(oe.a,null,s.a.createElement(g.a,{form:!0,className:"justify-content-between"},s.a.createElement(Ye.a,{sm:"auto"},"Question Text"),s.a.createElement(w.a,{sm:"auto"},s.a.createElement(nt,{text:s.a.createElement(s.a.Fragment,null,"A ",s.a.createElement("strong",null,"question")," does have a set of correct answers. A ",s.a.createElement("strong",null,"vote")," does not have any correct answers. It will just show the distribution of all given answers."),id:"info-question-type",placement:"left"}),s.a.createElement(Ke.a,{size:"sm"},s.a.createElement(le.a,{outline:!0,color:"primary",active:"question"===t.type,onClick:function(){"question"!==t.type&&c(n,"question","vote")}},"Question"),s.a.createElement(le.a,{outline:!0,color:"primary",active:"vote"===t.type,onClick:function(){"vote"!==t.type&&c(n,"vote","question")}},"Vote")))),s.a.createElement(g.a,{form:!0},s.a.createElement(w.a,null,s.a.createElement(ht,{content:t.text,onEditQuestionText:r,selectedQuestion:n})))),s.a.createElement(oe.a,null,s.a.createElement(g.a,{form:!0,className:"justify-content-between"},s.a.createElement(Ye.a,{sm:"auto"},"Answers"," ",s.a.createElement("span",{className:"small text-muted"},"multi"===t.mode?"(Check the correct answers)":"(Select the correct answer)")),s.a.createElement(w.a,{sm:"auto"},s.a.createElement(nt,{text:s.a.createElement(s.a.Fragment,null,"Choose if you want to allow users to pick just a"," ",s.a.createElement("strong",null,"single")," or ",s.a.createElement("strong",null,"multiple")," ","answers."),id:"info-question-mode",placement:"left"}),s.a.createElement(Ke.a,{size:"sm"},s.a.createElement(le.a,{outline:!0,color:"primary",onClick:function(){"single"!==t.mode&&o(n,"single","multi")},active:"single"===t.mode},"Single"),s.a.createElement(le.a,{outline:!0,color:"primary",onClick:function(){"multi"!==t.mode&&o(n,"multi","single")},active:"multi"===t.mode},"Multiple")))),s.a.createElement(g.a,{form:!0},s.a.createElement(w.a,null,s.a.createElement(He.a,{onDragEnd:function(e){var t=e.destination,a=e.source;t&&(t.droppableId===a.droppableId&&t.index===a.inde||i(n,a.index,t.index))}},s.a.createElement(He.c,{droppableId:"answerList"},function(e){return s.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),t.answers.map(function(e,r){return s.a.createElement(He.b,{draggableId:e.id,index:r,key:e.id},function(o){return s.a.createElement("div",Object.assign({},o.draggableProps,{ref:o.innerRef,key:e.id}),s.a.createElement(it,{isCorrectAnswer:e.isCorrect,dragHandleProps:o.dragHandleProps,selectedQuestion:n,number:r,mode:t.mode,answer:e.text,key:e.id,onEditAnswerText:function(e){return a(n,e.target.value,r)},onSetCorrectSingleAnswer:u,onSetCorrectMultiAnswer:d,onDeleteAnswer:m,disabled:"vote"===t.type}))})}),e.placeholder)}))))),s.a.createElement(le.a,{outline:!0,block:!0,color:"primary",onClick:function(){return l(n)}},s.a.createElement(Ge.a,null)," Add answer"),s.a.createElement(le.a,{outline:!0,block:!0,color:"danger",onClick:function(){return p(n)}},s.a.createElement(Xe.a,null)," Delete Question")):s.a.createElement("span",{className:"text-muted"},"No question selected")))};bt.defaultProps={question:{},selectedQuestion:0};var vt=bt,yt=n(182),gt=n.n(yt),wt=n(183),St=n.n(wt),Ot=n(593),xt=n(594),It=n(595),Ct=n(184),At=n.n(Ct),jt=n(185),Nt=n.n(jt),Tt=n(186),_t=n.n(Tt),Rt=n(592),kt=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).handleSubmit=function(e){var t=n.props,a=t.onSelectFile,r=t.closeDropdown;e.preventDefault(),a(n.fileInput.current.files[0]),"function"===typeof r&&r()},n.fileInput=s.a.createRef(),n}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.children;return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"file",ref:this.fileInput,style:{display:"none"},onChange:this.handleSubmit}),s.a.cloneElement(t,{onClick:function(t){t.preventDefault(),e.fileInput.current.click()}}))}}]),t}(s.a.Component);kt.defaultProps={closeDropdown:null};var Qt=kt,Pt=n(187),qt=n.n(Pt),Dt=!1,Ut=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).onChoose=n.onChoose.bind(Object(Q.a)(Object(Q.a)(n))),n}return Object(k.a)(t,e),Object(T.a)(t,null,[{key:"isDropboxReady",value:function(){return!!window.Dropbox}}]),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.appKey;t.isDropboxReady()||Dt||(Dt=!0,qt()("https://www.dropbox.com/static/api/2/dropins.js",{attrs:{id:"dropboxjs","data-app-key":e}}))}},{key:"onChoose",value:function(){var e=this.props,n=e.success,a=e.cancel,r=e.linkType,o=e.multiselect,s=e.extensions,c=e.disabled;return!t.isDropboxReady()||c?null:window.Dropbox.choose({success:n,cancel:a,linkType:r,multiselect:o,extensions:s})}},{key:"render",value:function(){var e=this.props.children;return s.a.createElement("div",{onClick:this.onChoose},e||s.a.createElement("button",{type:"button"},"Open Dropbox Chooser"))}}]),t}(o.Component);Ut.defaultProps={cancel:function(){},linkType:"preview",multiselect:!1,disabled:!1};var Jt=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).toggle=n.toggle.bind(Object(Q.a)(Object(Q.a)(n))),n.state={dropdownOpen:!1},n}return Object(k.a)(t,e),Object(T.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})}},{key:"render",value:function(){var e=this.state.dropdownOpen,t=this.props,n=t.onUploadFile,a=t.onUploadDropbox;return s.a.createElement(Rt.a,{isOpen:e,toggle:this.toggle},s.a.createElement(D.a,{color:"light",caret:!0},s.a.createElement(At.a,{className:"text-secondary"})," Import"," "),s.a.createElement(U.a,null,s.a.createElement(Qt,{onSelectFile:function(e){return n(e)},closeDropdown:this.toggle},s.a.createElement(J.a,{toggle:!1},s.a.createElement(Nt.a,{className:"text-secondary"})," File")),s.a.createElement(J.a,null,s.a.createElement(Ut,{appKey:"d18bw92f2af5ssh",linkType:"direct",success:function(e){fetch(e[0].link).then(function(e){return e.text()}).then(function(e){return a(e)})}},s.a.createElement(_t.a,{className:"text-secondary"})," Dropbox"))))}}]),t}(s.a.Component),Mt=function(e){var t=e.questions,n=e.onSelectQuestion,a=e.onSortQuestion,r=e.selectedQuestion,o=e.onAddQuestion,c=e.onDownloadFile,l=e.onUploadFile,i=e.onUploadDropbox;return s.a.createElement(ie.a,{className:"shadow"},s.a.createElement(ue.a,null,s.a.createElement("h6",{className:"my-0 d-flex justify-content-between"},"Questions",s.a.createElement(de.a,{color:"dark",pill:!0},t.length))),s.a.createElement(He.a,{onDragEnd:function(e){var t=e.destination,n=e.source;t&&(t.droppableId===n.droppableId&&t.index===n.inde||a(n.index,t.index))}},s.a.createElement(He.c,{droppableId:"questionList"},function(e){return s.a.createElement(Ot.a,{flush:!0},s.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),t.map(function(e,t){return s.a.createElement(He.b,{draggableId:e.id,index:t,key:e.id},function(a){return s.a.createElement("div",Object.assign({},a.draggableProps,{ref:a.innerRef,key:e.id}),s.a.createElement(xt.a,{key:e.id,tag:"a",href:"#",onClick:function(e){e.preventDefault(),n(t)},action:!0,active:r===t,className:"d-flex justify-content-between align-items-center hover-container"},function(e,t,n){var a=e.trim().split(" ");return a.length>t?a.slice(0,t).join(" ")+(n||""):e}((o=e.text,(new DOMParser).parseFromString(o,"text/html").body.textContent||""),7,"..."),s.a.createElement("div",Object.assign({className:"hover-hide"},a.dragHandleProps),s.a.createElement(st.a,{style:{marginBottom:"3px",marginRight:"-6px"}}))));var o})}),e.placeholder),0===t.length&&s.a.createElement(xt.a,{disabled:!0},s.a.createElement(It.a,{className:"mb-0"},"No questions")))})),s.a.createElement(Ee.a,{tag:"button",className:"cardFooterButton btn btn-light",onClick:function(){o()}},s.a.createElement(gt.a,{className:"text-success",style:{paddingBottom:"3px"}}),"Add Question"),s.a.createElement(Ee.a,null,s.a.createElement("div",{className:"text-center"},s.a.createElement(Jt,{onUploadFile:l,onUploadDropbox:i}),s.a.createElement(le.a,{color:"light",onClick:c},s.a.createElement(St.a,{className:"text-secondary"})," Export"))))};Mt.defaultProps={questions:["No questions"],selectedQuestion:null};var Ft=Mt,Wt={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://www.weclare.de/questions.json",type:"array",title:"A question set for weclare.de",items:{type:"object",title:"A single questions",required:["id","type","text","answers"],properties:{id:{type:"string",title:"A unique id"},type:{type:"string",title:"Type of question (e.g. single, multi, text)"},mode:{type:"string",title:"Mode of question (e.g. a vote or question)"},text:{type:"string",title:"The question text"},answers:{type:"array",title:"All answer options for this question",items:{type:"object",title:"A single answer",required:["id","text","isCorrect"],properties:{id:{type:"string",title:"A unique id"},text:{type:"string",title:"The text of the answer"},isCorrect:{type:"boolean",title:"Flag if the answer is correct"}},additionalProperties:!1}}},additionalProperties:!1}},Bt="SELECT_QUESTION",Lt="ADD_QUESTION",Ht="EDIT_QUESTION_TEXT",zt="EDIT_QUESTION_MODE",Gt="EDIT_QUESTION_TYPE",Vt="DELETE_QUESTION",Xt="LOAD_QUESTIONS",Yt="SORT_QUESTION";function Kt(e){return{type:Bt,payload:{questionIdx:e}}}function $t(){return function(e,t){e({type:Lt}),e(Kt(t().questionEditor.length-1))}}function Zt(e,t){return{type:Ht,payload:{questionIdx:e,text:t}}}function en(e,t,n){return{type:zt,payload:{questionIdx:e,newMode:t,oldMode:n}}}function tn(e,t,n){return{type:Gt,payload:{questionIdx:e,newType:t,oldType:n}}}function nn(e){return function(t,n){t({type:Vt,payload:{questionIdx:e}});var a=n().selectedQuestion;t(Kt(a<=0?0:a-1))}}function an(e){return{type:Xt,payload:{newQuestions:e}}}function rn(e,t){return function(n,a){n({type:Yt,payload:{oldQuestionIdx:e,newQuestionIdx:t}}),a().selectedQuestion===e&&n(Kt(t))}}var on="SET_CORRECT_SINGLE_ANSWER",sn="SET_CORRECT_MULTI_ANSWER",cn="ADD_ANSWER",ln="EDIT_ANSWER_TEXT",un="DELETE_ANSWER",dn="SORT_ANSWER";function mn(e,t){return{type:on,payload:{questionIdx:e,answerIdx:t}}}function pn(e,t){return{type:sn,payload:{questionIdx:e,answerIdx:t}}}function En(e){return{type:cn,payload:{questionIdx:e}}}function fn(e,t,n){return{type:ln,payload:{questionIdx:e,text:t,answerIdx:n}}}function hn(e,t){return{type:un,payload:{questionIdx:e,answerIdx:t}}}function bn(e,t,n){return{type:dn,payload:{questionIdx:e,oldAnswerIdx:t,newAnswerIdx:n}}}var vn=Object(Me.a)({},r,a),yn=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).loadQuestionsFromStorage=function(){var e=n.props.loadQuestions,t=localStorage.getItem("weclare");t&&e(JSON.parse(t))},n.downloadFile=function(e){var n="data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(e))),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download","weclare-".concat(t.getFormattedDate(),".json")),document.body.appendChild(a),a.click(),a.remove(),we.info("Created and started file download")},n.saveToStorage=function(e){localStorage.setItem("weclare",e),we.info("Saved questionset to local storage")},n.validateAndSaveToStorage=function(e){We.a.validate(JSON.parse(e),Wt)?(we.info("Questionset was successfully validated"),n.saveToStorage(e),n.loadQuestionsFromStorage()):we.error("Imported file was invalid",We.a.error)},n.saveFileToStorage=function(e){var t=new FileReader;t.onload=function(){n.validateAndSaveToStorage(t.result)},t.readAsText(e)},n.loadQuestionsFromStorage(),n}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.selectedQuestion,a=t.questions,r=t.history,o=t.addQuestion,c=t.selectQuestion,l=t.editQuestionText,i=t.editQuestionType,u=t.editQuestionMode,d=t.deleteQuestion,m=t.addAnswer,p=t.editAnswerText,E=t.deleteAnswer,f=t.setCorrectSingleAnswer,h=t.setCorrectMultiAnswer,b=t.initAnswers,v=t.sortQuestion,y=t.sortAnswer;return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{className:"justify-content-center mb-4"},s.a.createElement(w.a,{md:"4"},s.a.createElement(Ft,{questions:a,selectedQuestion:n,onSelectQuestion:c,onAddQuestion:o,onSortQuestion:v,onDownloadFile:function(){e.saveToStorage(JSON.stringify(a)),e.downloadFile(a)},onUploadFile:this.saveFileToStorage,onUploadDropbox:this.validateAndSaveToStorage})),s.a.createElement(w.a,{md:"8"},s.a.createElement(vt,{question:a[n],selectedQuestion:n,onEditQuestionText:l,onEditQuestionMode:u,onEditQuestionType:i,onEditAnswerText:p,onAddAnswer:m,onSetCorrectSingleAnswer:f,onSetCorrectMultiAnswer:h,onSortAnswer:y,onDeleteAnswer:E,onDeleteQuestion:d}))),s.a.createElement(g.a,{className:"justify-content-end"},s.a.createElement(w.a,{xs:"auto"},s.a.createElement(le.a,{outline:!0,block:!0,onClick:function(){b(),e.saveToStorage(JSON.stringify(a)),r&&r.push("/server/create")},color:"success"},s.a.createElement(Le.a,{style:{paddingBottom:"3px"}})," Save & Continue"))))}}]),t}(s.a.Component);yn.getFormattedDate=function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),"".concat(t,"-").concat(n,"-").concat(a)};var gn=Object(ae.a)(Object(E.b)(function(e){return{questions:e.questionEditor,selectedQuestion:e.selectedQuestion}},vn)(yn)),wn=n(0),Sn=n.n(wn),On=(Sn.a.string,Sn.a.number,Sn.a.shape({question:Sn.a.shape({progress:Sn.a.string,questionIdx:Sn.a.number,text:Sn.a.string,type:Sn.a.string,answers:Sn.a.arrayOf(Sn.a.object)})}),{question:{progress:"",questionIdx:null,text:null,type:null,answers:null},disabled:!1,selectedAnswerIdx:null}),xn=function(e){var t=e.question,n=e.onClickAnswer,a=e.countedAnswers,r=e.disabled,o=e.selectedAnswerIdx,c=e.children;return s.a.createElement(s.a.Fragment,null,s.a.createElement(m.Helmet,null,s.a.createElement("title",null,"Answer question")),s.a.createElement(he,{title:"Answer question",badge:t.progress,footer:c},t.text&&s.a.createElement("div",{className:"text-center mb-4 h4",dangerouslySetInnerHTML:{__html:t.text}}),t.answers&&t.answers.map(function(e,t){return s.a.createElement(le.a,{outline:o!==t,id:t,key:t,block:!0,onClick:n?function(e){var t=parseInt(e.target.id,10);n(t)}:null,color:"secondary",disabled:r},e.text,a&&s.a.createElement(de.a,{className:"float-right",color:"secondary"},0!==a[t]&&a[t]))})))};xn.defaultProps={question:On};var In=xn,Cn=n(188),An=n.n(Cn),jn=n(189),Nn=n.n(jn),Tn=n(190),_n=n.n(Tn),Rn=n(191),kn=n.n(Rn),Qn=n(65),Pn=n.n(Qn),qn=function(e){return e.server.connections.length>0},Dn={sendCurrentQuestionToClients:function(){return function(e,t){console.log("Sending question to clients");var n=t().server.connections,a=_e(t());n.length>0&&a?n.forEach(function(e){return e.send(JSON.stringify(a))}):console.error("Can't send question to clients")}},toggleAcceptingAnswers:function(){return{type:qe}}},Un=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={buttonPhase:0},n}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.toggleAcceptingAnswers,a=t.sendCurrentQuestionToClients,r={0:{text:s.a.createElement(s.a.Fragment,null,s.a.createElement(Pn.a,{singleColor:"#8a817c",size:16})," Waiting for clients"),color:"primary",additionalButtonProps:{outline:!0,disabled:!0}},1:{onClick:function(){n(),a(),e.setState({buttonPhase:2})},text:s.a.createElement(s.a.Fragment,null,s.a.createElement(An.a,{style:{paddingBottom:"3px"}})," Start Quiz"),color:"secondary"},2:{onClick:function(){e.setState({buttonPhase:3})},text:s.a.createElement(s.a.Fragment,null,s.a.createElement(Nn.a,{style:{paddingBottom:"3px"}})," Stop Question"),color:"secondary"},3:{onClick:function(){e.setState({buttonPhase:4})},text:s.a.createElement(s.a.Fragment,null,s.a.createElement(kn.a,{style:{paddingBottom:"3px"}})," Show Results"),color:"secondary"},4:{onClick:function(){e.setState({buttonPhase:0})},text:s.a.createElement(s.a.Fragment,null,s.a.createElement(_n.a,{style:{paddingBottom:"3px"}})," Next Question"),color:"secondary"}}[this.state.buttonPhase];return s.a.createElement(le.a,Object.assign({color:r.color,outline:r.outline,block:!0,onClick:r.onClick},r&&r.additionalButtonProps&&r.additionalButtonProps),r.text)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isConnected&&0===t.buttonPhase?{buttonPhase:1}:null}}]),t}(s.a.Component),Jn=Object(E.b)(function(e){return{isConnected:qn(e)}},Dn)(Un),Mn=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={countedAnswers:null},n}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.state.countedAnswers,t=this.props.currentQuestion;return s.a.createElement(g.a,{className:"justify-content-center"},s.a.createElement(In,{question:t,countedAnswers:e,disabled:!0},s.a.createElement(Jn,null)))}}]),t}(s.a.Component),Fn=Object(E.b)(function(e){return{currentQuestion:_e(e)}})(Object(ae.a)(Mn)),Wn=n(34),Bn=n(40),Ln=n.n(Bn),Hn=function(e,t,n){return e.map(function(e,a){return t===a?n(e):e})},zn=function(e,t,n){e&&e.splice(n,0,e.splice(t,1)[0])},Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{connections:[],ownServerId:"",currentQuestionIdx:0,acceptingAnswers:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(Me.a)({},e,{currentQuestionIdx:t.payload.questionIdx});case Re:return Object(Me.a)({},e,{connections:[].concat(Object(Wn.a)(e.connections),[t.payload.connection])});case ke:return Object(Me.a)({},e,{ownServerId:t.payload.newId});case qe:return Object(Me.a)({},e,{acceptingAnswers:!e.acceptingAnswers});default:return e}},Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return t.payload.array;case Ce:return console.log("Reducer",t.payload),Hn(e,t.payload.questionIdx,function(e){return Hn(e,t.payload.answerIdx,function(e){return e.push(t.payload.userId),e})});default:return e}},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{peer:null,status:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(Me.a)({},e,{status:t.payload.newStatus});case Se:return Object(Me.a)({},e,{peer:t.payload.peer});default:return e}},Yn=Object(f.combineReducers)({registeredAnswers:Vn,connection:Xn,server:Gn,questionEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lt:var n=JSON.parse(JSON.stringify(e)),a=e.length;return n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{id:Ln()(6),type:"question",mode:"single",text:"<p>New question</p>",questionIdx:e,answers:[{id:Ln()(6),text:"Answer A",isCorrect:!0},{id:Ln()(6),text:"Answer B",isCorrect:!1}]}}(a)),n;case Ht:var r=t.payload,o=r.questionIdx,s=r.text,c=JSON.parse(JSON.stringify(e));return c[o]=Object(Me.a)({},c[o],{text:s}),c;case zt:var l=t.payload,i=l.questionIdx,u=l.newMode,d=JSON.parse(JSON.stringify(e)),m=!1;return d[i]=Object(Me.a)({},d[i],{answers:e[i].answers.map(function(e){return e.isCorrect&&!m?(m=!0,Object(Me.a)({},e,{isCorrect:!0})):Object(Me.a)({},e,{isCorrect:!1})}),mode:u}),d;case Gt:var p=t.payload,E=p.questionIdx,f=p.newType,h=p.oldType,b=JSON.parse(JSON.stringify(e));return b[E]=Object(Me.a)({},b[E],{answers:e[E].answers.map(function(e){return Object(Me.a)({},e,{isCorrect:!1})}),type:f}),"question"===f&&"vote"===h&&(b[E].answers[0].isCorrect=!0),b;case Vt:var v=JSON.parse(JSON.stringify(e));return[].concat(Object(Wn.a)(v.slice(0,t.payload.questionIdx)),Object(Wn.a)(v.slice(t.payload.questionIdx+1)));case un:var y=t.payload,g=y.questionIdx,w=y.answerIdx,S=JSON.parse(JSON.stringify(e));return Hn(S,g,function(e){return Object(Me.a)({},e,{answers:(t=e.answers,n=w,t.filter(function(e,t){return n!==t}))});var t,n});case cn:var O=t.payload.questionIdx,x=JSON.parse(JSON.stringify(e));return x[O]=Object(Me.a)({},e[O],{answers:[].concat(Object(Wn.a)(e[O].answers),[{id:Ln()(6),text:"New answer",isCorrect:!1}])}),x;case ln:var I=t.payload,C=I.questionIdx,A=I.text,j=I.answerIdx,N=JSON.parse(JSON.stringify(e));return Hn(N,C,function(e){return Object(Me.a)({},e,{answers:Hn(e.answers,j,function(e){return Object(Me.a)({},e,{text:A})})})});case on:var T=t.payload,_=T.questionIdx,R=T.answerIdx,k=JSON.parse(JSON.stringify(e)),Q=k[_].answers.map(function(e,t){return t===R?Object(Me.a)({},e,{isCorrect:!0}):Object(Me.a)({},e,{isCorrect:!1})});return k[_].answers=Q,k;case sn:var P=t.payload,q=P.questionIdx,D=P.answerIdx,U=JSON.parse(JSON.stringify(e)),J=U[q].answers.map(function(e,t){return t===D?Object(Me.a)({},e,{isCorrect:!e.isCorrect}):e});return U[q].answers=J,U;case Xt:return t.payload.newQuestions;case Yt:var M=t.payload,F=M.newQuestionIdx,W=M.oldQuestionIdx,B=JSON.parse(JSON.stringify(e));return zn(B,W,F),B.map(function(e,t){return Object(Me.a)({},e,{questionIdx:t})});case dn:var L=t.payload,H=L.questionIdx,z=L.newAnswerIdx,G=L.oldAnswerIdx,V=JSON.parse(JSON.stringify(e));return zn(V[H].answers,G,z),V;default:return e}},selectedQuestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bt:return t.payload.questionIdx;default:return e}}}),Kn=Object(f.createStore)(Yn,Object(b.composeWithDevTools)(Object(f.applyMiddleware)(h.a))),$n=function(){return s.a.createElement("div",null,s.a.createElement(E.a,{store:Kn},s.a.createElement(s.a.Fragment,null,s.a.createElement(ne,null),s.a.createElement(p.a,null,s.a.createElement(d.a,{exact:!0,path:"/server/create",component:Je}),s.a.createElement(d.a,{exact:!0,path:"/server/editor",component:gn}),s.a.createElement(d.a,{exact:!0,path:"/server/ask",component:Fn}),s.a.createElement(S,null)))))},Zn="ADD_CONNECTION",ea="SET_REMOTE_SERVER_ID",ta="SET_CURRENT_QUESTION";var na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{connection:null,remoteServerId:"",questionIdx:null,currentQuestion:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zn:return Object(Me.a)({},e,{connection:t.payload.connection});case ea:return Object(Me.a)({},e,{remoteServerId:t.payload.newId});case ta:return Object(Me.a)({},e,{currentQuestion:t.payload.newQuestion});default:return e}},aa=Object(f.combineReducers)({connection:Xn,client:na}),ra=Object(E.b)(function(e){return{status:e.connection.status}})(function(e){return s.a.createElement(te,Object.assign({isClient:!0},e))}),oa=function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_PEERJS_SERVER:"peerjs-server-mvmastudcl.now.sh",REACT_APP_PEERJS_SECURE:"true",REACT_APP_PEERJS_DEBUG:"2",REACT_APP_DROPBOX_APP_KEY:"d18bw92f2af5ssh"}),a=n.REACT_APP_PEERJS_SERVER,r=n.REACT_APP_PEERJS_SECURE,o=n.REACT_APP_PEERJS_DEBUG,s=new ge.a({host:a,secure:"true"===r,debug:parseInt(o,10)});!function(e){var t=0;function n(){t=setTimeout(n,2e4),e.socket._wsOpen()&&(e.socket.send({type:"HEARTBEAT"}),we.info("Sent heartbeat"))}n()}(s);t(Ie(s)),s.on("error",function(e){console.error(e),t(xe(3))});var c=s.connect(e,{reliable:!1});t(function(e){return{type:Zn,payload:{connection:e}}}(c)),t(xe(1)),c.on("open",function(){console.log("Client Connected"),t(xe(2)),c.on("data",function(e){var n=JSON.parse(e);console.log("Received data: ",n),t({type:ta,payload:{newQuestion:n}})})})},sa={title:"Connect to Server",text:"Please enter a valid Server ID. You should receive this ID from your instructor.",buttonText:"Connect",location:"/client/answer",validationError:"Only alphanumeric characters and -,_ or spaces are allowed."},ca=Object(E.b)(function(e){return{serverId:e.client.remoteServerId}},function(e){return{onChangeServerId:function(t){return e({type:ea,payload:{newId:t}})},onClickConnect:function(t){return oa(t,e)}}})(function(e){return s.a.createElement(g.a,{className:"justify-content-center"},s.a.createElement(ve,Object.assign({},e,sa)))}),la=function(e){var t=e.title,n=e.size;return s.a.createElement(s.a.Fragment,null,s.a.createElement(m.Helmet,null,s.a.createElement("title",null,t)),s.a.createElement(he,{title:t},s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement(Pn.a,{color1:"#8a817c",color2:"#f44336",color3:"#dc9125",color4:"#5fa15d",size:n}))))};la.defaultProps={title:"Waiting",size:30};var ia=la,ua=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(_.a)(this,Object(R.a)(t).call(this,e))).initialState={disabled:!1,selectedAnswerIdx:null},n.state=n.initialState,n}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.currentQuestion!==e.currentQuestion&&this.resetState()}},{key:"resetState",value:function(){this.setState(this.initialState)}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentQuestion,a=t.connection,r=this.state,o=r.disabled,c=r.selectedAnswerIdx,l=Object.keys(n).length>0;return s.a.createElement(g.a,{className:"justify-content-center"},l?s.a.createElement(In,{question:n,disabled:o,selectedAnswerIdx:c,onClickAnswer:function(t){console.log("Sending back answer ",t,n),function(e,t,n){e&&e.send({type:"answer",payload:{questionIdx:n,answerIdx:t,userId:e.provider.id}})}(a,t,n.questionIdx),e.setState({disabled:!0,selectedAnswerIdx:t},function(){return console.log("New state",e.state)})}}):s.a.createElement(ia,{title:"Waiting for question"}))}}]),t}(s.a.Component);ua.defaultProps={currentQuestion:On};var da=Object(E.b)(function(e){return{currentQuestion:e.client.currentQuestion,connection:e.client.connection}})(ua),ma=Object(f.createStore)(aa,Object(b.composeWithDevTools)(Object(f.applyMiddleware)(h.a))),pa=function(){return s.a.createElement("div",null,s.a.createElement(E.a,{store:ma},s.a.createElement(s.a.Fragment,null,s.a.createElement(ra,null),s.a.createElement(p.a,null,s.a.createElement(u.a,null,s.a.createElement(d.a,{exact:!0,path:"/client/connect/:serverId?",component:ca}),s.a.createElement(d.a,{exact:!0,path:"/client/answer",component:da})),s.a.createElement(S,null)))))},Ea=n(192),fa=(n(556),function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(te,null),s.a.createElement(p.a,null,s.a.createElement(g.a,null,s.a.createElement(w.a,{md:"12"},s.a.createElement(ie.a,{className:"shadow"},s.a.createElement(ue.a,null,s.a.createElement("h6",{className:"my-0"},"About")),s.a.createElement(me.a,null,s.a.createElement("div",{className:"markdown-body",style:{fontFamily:"IBM Plex Sans"},dangerouslySetInnerHTML:{__html:Object(Ea.a)('## What is Weclare?\n\nWeclare is an acronym for "**we**b based **cla**ssroom **re**sponse system".  \n\nIt is a classroom response system which was specifically design for the use in computer science education at the university level.  \n\nWeclare was designed to fulfill these high-level requirements:\n\n- Web based (no downloads necessary)\n- Interactive code execution of Java code snippets in the browser\n- Peer-to-Peer design: No or minimal (only for signalling) server required\n- Good formatting options for code snippets\n\n## What is a classroom response system?\n\nA CRS can be used in class settings. It allows a instructor to direct questions at the audience (students), which they can then interactively answer. CRS also exist as hardware systems (think of little remote boxes with buttons on them). Nowadays CRS are mostly software systems that can be used with computers, tablets or smartphones.\n\n## What is the motivation behind the creation of Weclare?\n\nWeclare is the result of a bachelor thesis by Moritz St\xfcckler at HAW Hamburg. It is heavily inspired by an existing system called ["StuReSy" made by another student at the University of Hamburg](https://github.com/sturesy).  \n\nHowever today, StuReSy seems unnecessarily complicated. It needs a dedicated PHP server component and a Java Client to be configured. Also it lacks a lot of computer science specific features (formatting source code fragments, syntax highlighting, etc).  \n\nWeclare is supposed to offer the same basic functionality as StuReSy but without the need for offline software or a server component. It is a peer-to-peer system and especially designed for computer science use cases.\n')}}))))),s.a.createElement(S,null)))}),ha=function(e){var t=e.header,n=e.text,a=e.children,r=e.emoji;return s.a.createElement("div",null,s.a.createElement(ie.a,{className:"shadow"},s.a.createElement(ue.a,null,s.a.createElement("h4",{className:"my-0"},t)),s.a.createElement(me.a,null,s.a.createElement(pe.a,null,s.a.createElement("span",{role:"img","aria-label":"Student",className:"d-block",style:{fontSize:"4em"}},r),s.a.createElement("span",null,n)),a)))};ha.defaultProps={header:"",text:"",children:"",emoji:""};var ba=ha,va=function(){return s.a.createElement(p.a,null,s.a.createElement("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center"},s.a.createElement("h1",{className:"display-4"},"Weclare"),s.a.createElement("p",{className:"lead"},"A web based, peer-to-peer classroom response system, tailored to computer science education at university level.")),s.a.createElement(g.a,null,s.a.createElement(w.a,{sm:"6"},s.a.createElement("div",{className:"card-deck mb-3 text-center"},s.a.createElement(ba,{header:"For Students",text:"Start the client app, which allows you to connect to an existing session and answer questions.",emoji:"\ud83d\udc69\u200d\ud83c\udf93"},s.a.createElement(le.a,{tag:O.a,to:"/client/connect",className:"btn btn-lg btn-block btn-outline-primary"},"Join Quiz Session")))),s.a.createElement(w.a,{sm:"6"},s.a.createElement("div",{className:"card-deck mb-3 text-center"},s.a.createElement(ba,{header:"For Instructors",text:"Start the server app, which allows you to create new question sets and accept connections from students.",emoji:"\ud83d\udc69\u200d\ud83c\udfeb"},s.a.createElement(le.a,{tag:O.a,to:"/server/editor",className:"btn btn-lg btn-block btn-outline-primary"},"Create Quiz Session"))))),s.a.createElement(S,null))},ya=(n(558),function(){return s.a.createElement(i.a,{basename:""},s.a.createElement("div",{className:"App"},s.a.createElement(m.Helmet,{titleTemplate:"Weclare | %s",defaultTitle:"Weclare \u2013 A web based classroom response system"}),s.a.createElement(u.a,null,s.a.createElement(d.a,{path:"/",exact:!0,component:va}),s.a.createElement(d.a,{path:"/server",component:$n}),s.a.createElement(d.a,{path:"/client",component:pa}),s.a.createElement(d.a,{path:"/about",component:fa}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(ya,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[132,2,1]]]);
//# sourceMappingURL=main.dbfe7b69.chunk.js.map